<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Rebirth Creative Studio AI – App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="flow.css" />

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
  </head>

  <body>
    <header class="topbar">
      <div class="wrap topbar__inner">
        <a class="brand" href="index.html" aria-label="Rebirth Creative Studio AI Home">
          <span class="brand__name">Rebirth Creative Studio</span>
          <span class="brand__ai">AI</span>
        </a>

        <nav class="nav" id="siteNav">
          <button
            class="navToggle"
            type="button"
            id="navToggle"
            aria-label="Open menu"
            aria-expanded="false"
          >
            ☰
          </button>

          <div class="navLinks" id="navLinks">
            <a href="about.html">About us</a>
            <a href="contact.html">Contact us</a>
          </div>
        </nav>
      </div>
    </header>

    <main class="app">
      <div class="wrap">
        <section class="appHero">
          <h1 class="appHero__title">Create <span class="appHero__italic">Your</span> Handbag</h1>
          <p class="appHero__sub">
            Choose a Jacquemus model, pick a fabric texture (preset or upload), generate the new material, then try it on with a full-body image.
          </p>

          <div class="progress">
            <div class="progress__pill">
              <span class="progress__dot" data-dot="1"></span>
              <span class="progress__dot" data-dot="2"></span>
              <span class="progress__dot" data-dot="3"></span>
              <span class="progress__dot" data-dot="4"></span>
            </div>
            <div class="progress__label" id="progressLabel">Step 1 of 4</div>
          </div>
        </section>

        <input id="fabricInput" type="file" accept="image/*" hidden />
        <input id="personInput" type="file" accept="image/*" hidden />

        <!-- STEP 1 -->
        <section class="step is-active" data-step="1">
          <div class="cardGrid">
            <div class="card">
              <h2 class="card__title">Select a Jacquemus model</h2>
              <p class="card__text">Pick the base bag model. We keep the shape consistent and only change the material.</p>

              <div class="bagGrid bagGrid--4" id="formThumbs">
                <button class="bagTile is-active" type="button" data-bag="/assets/black-large-bambino.png" data-name="The Large Bambino (Black)">
                  <img src="/assets/black-large-bambino.png" alt="The Large Bambino (Black)" />
                </button>

                <button class="bagTile" type="button" data-bag="/assets/black-the-bambino.png" data-name="The Bambino (Black)">
                  <img src="/assets/black-the-bambino.png" alt="The Bambino (Black)" />
                </button>

                <button class="bagTile" type="button" data-bag="/assets/black-the-bisou-perle.png" data-name="The Bisou Perle (Black)">
                  <img src="/assets/black-the-bisou-perle.png" alt="The Bisou Perle (Black)" />
                </button>

                <button class="bagTile" type="button" data-bag="/assets/the-large-chiquito.png" data-name="The Large Chiquito">
                  <img src="/assets/the-large-chiquito.png" alt="The Large Chiquito" />
                </button>
              </div>

              <div class="monoLine">
                Selected: <span id="selectedBagName">The Large Bambino (Black)</span>
              </div>

              <div class="row">
                <button class="btn btn--ghost" data-action="back" disabled>Back</button>
                <button class="btn btn--primary" data-action="next">Continue</button>
              </div>
            </div>

            <div class="card card--preview">
              <div class="previewTop">
                <div>
                  <div class="previewTop__title">Base bag</div>
                </div>
              </div>

              <div class="previewBox">
                <img id="bagPreview" class="previewImg" src="/assets/black-large-bambino.png" alt="Bag preview" />
              </div>
            </div>
          </div>
        </section>

        <!-- STEP 2 -->
        <section class="step" data-step="2">
          <div class="cardGrid">
            <div class="card">
              <h2 class="card__title">Choose a fabric texture</h2>
              <p class="card__text">
                Pick one of the curated textures or upload your own. Both do the same thing: they become the fabric used to wrap the bag.
              </p>

              <!-- Presets -->
              <div class="fabricGrid" id="fabricPresets" aria-label="Fabric presets"></div>

              <div class="monoLine" style="margin-top:6px;">Or upload your own fabric</div>

              <button class="drop" type="button" id="fabricBtn">
                <span class="drop__icon">▢</span>
                <span id="fabricLabel">Upload or drag & drop fabric image...</span>
              </button>

              <div class="miniRow">
                <div class="mini">
                  <div class="mini__label">Bag</div>
                  <div class="mini__box">
                    <img id="bagMini" src="/assets/black-large-bambino.png" alt="Selected bag" />
                  </div>
                </div>

                <div class="mini">
                  <div class="mini__label">Fabric</div>
                  <div class="mini__box">
                    <div class="mini__empty" id="fabricMiniEmpty">No fabric yet</div>
                    <img id="fabricMini" alt="Fabric preview" style="display:none;" />
                  </div>
                </div>
              </div>

              <div class="row">
                <button class="btn btn--ghost" data-action="back">Back</button>
                <button class="btn btn--primary" type="button" id="generateBagBtn">Generate bag with fabric</button>
              </div>

              <div class="status" id="status2" aria-live="polite"></div>
            </div>

            <div class="card card--preview">
              <div class="previewTop">
                <div>
                  <div class="previewTop__title">Selected bag</div>
                </div>
              </div>

              <div class="previewBox">
                <img id="bagPreview2" class="previewImg" src="/assets/black-large-bambino.png" alt="Bag preview" />
              </div>
            </div>
          </div>
        </section>

        <!-- STEP 3 -->
        <section class="step" data-step="3">
          <div class="cardGrid cardGrid--single">
            <div class="card">
              <h2 class="card__title">Your generated bag</h2>
              <p class="card__text">Download it, save it, share it, or move forward to try-on.</p>

              <div class="resultTop">
                <div class="resultTop__left">
                  <div class="resultTop__label">Result preview</div>
                </div>

                <div class="resultTop__right">
                  <button class="iconBtn" type="button" id="downloadBagBtn" title="Download bag">⤓</button>
                  <button class="iconBtn" type="button" id="saveBagBtn" title="Save design">♥</button>
                  <button class="iconBtn" type="button" id="shareBagBtn" title="Share">↗</button>
                </div>
              </div>

              <div class="resultBox">
                <img id="generatedBagImg" class="resultImg" src="/assets/black-large-bambino.png" alt="Generated bag" />
              </div>

              <div class="row">
                <button class="btn btn--ghost" data-action="back">Back</button>
                <button class="btn btn--primary" type="button" id="toTryOnBtn">Upload full-body photo</button>
              </div>

              <div class="status" id="status3" aria-live="polite"></div>
              <div class="hint">
                Tip: On mobile, Share often shows Instagram. If not, Download then upload in Instagram manually.
                <a class="hintLink" href="https://www.instagram.com/" target="_blank" rel="noreferrer">Open Instagram</a>
              </div>
            </div>
          </div>
        </section>

        <!-- STEP 4 -->
        <section class="step" data-step="4">
          <div class="cardGrid cardGrid--single">
            <div class="card">
              <h2 class="card__title">Try it on</h2>
              <p class="card__text">Upload a full-body photo. Prompt used: “make the woman hold the bag”.</p>

              <button class="drop" type="button" id="personBtn">
                <span class="drop__icon">▢</span>
                <span id="personLabel">Upload or drag & drop full-body image...</span>
              </button>

              <div class="resultTop" style="margin-top:14px;">
                <div class="resultTop__left">
                  <div class="resultTop__label">Try-on preview</div>
                </div>

                <div class="resultTop__right">
                  <button class="iconBtn" type="button" id="downloadTryOnBtn" title="Download try-on">⤓</button>
                  <button class="iconBtn" type="button" id="saveTryOnBtn" title="Save design">♥</button>
                  <button class="iconBtn" type="button" id="shareTryOnBtn" title="Share">↗</button>
                </div>
              </div>

              <div class="resultBox">
                <img id="tryOnImg" class="resultImg" alt="Try-on result" style="display:none;" />
              </div>

              <div class="row">
                <button class="btn btn--ghost" data-action="back">Back</button>
                <button class="btn btn--primary" type="button" id="generateTryOnBtn">Generate try-on</button>
              </div>

              <div class="row row--secondary">
                <button class="btn btn--ghost" data-action="restart">Start over</button>
              </div>

              <div class="status" id="status4" aria-live="polite"></div>
              <div class="hint">
                Tip: If Share doesn’t show Instagram, hit Download and upload it inside Instagram.
                <a class="hintLink" href="https://www.instagram.com/" target="_blank" rel="noreferrer">Open Instagram</a>
              </div>
            </div>
          </div>
        </section>

        <section class="saved" id="saved">
          <div class="savedTop">
            <div>
              <h2 class="savedTitle">Saved Designs</h2>
              <p class="savedSub">Saved on this device. You can download, share, or delete them.</p>
            </div>

            <div class="savedActions">
              <button class="btn btn--ghost" type="button" id="clearSavedBtn">Clear all</button>
            </div>
          </div>

          <div class="savedGrid" id="savedGrid"></div>
          <div class="savedEmpty" id="savedEmpty">No saved designs yet.</div>
        </section>
      </div>
    </main>

    <footer class="footer">
      <div class="wrap footer__inner">
        <div class="footerBrand">
          <span class="footerBrand__name">Rebirth Creative Studio</span>
          <span class="footerBrand__ai">AI</span>
        </div>
        <div class="footerTag">Design luxury from your own clothing</div>
        <div class="footerCopy">© 2025 Rebirth Creative Studio AI. All rights reserved.</div>
      </div>
    </footer>

    <script src="flow.js"></script>
  </body>
</html>
